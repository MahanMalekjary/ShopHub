<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>مدیریت کارگاه RAMCO</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://vazir-font.com/font-face.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
</head>
<body>
<!-- پدر مادر همه چیز -->
<div class="container">

  <!-- بیصاحاب که توش آشغال میذاریم بمونه -->
  <nav class="widescreenNav">
    <button onclick="showSection('cost')">
      <iconify-icon icon="streamline-ultimate:tag-dollar-bold" width="18" height="18"></iconify-icon>
      <span>برآورد هزینه</span>
    </button>
    <button onclick="showSection('customers')">
      <iconify-icon icon="solar:user-bold" width="24" height="24"></iconify-icon>
      <span>مشتری‌ها</span>
    </button>
    <button onclick="showSection('inventory')">
      <iconify-icon icon="bi:house-add-fill" width="24" height="24"></iconify-icon>
      <span>انبار</span>
    </button>
    <button onclick="showSection('todo')">
      <iconify-icon icon="fluent:check-20-filled" width="24" height="24"></iconify-icon>
      <span>تودولیست</span>
    </button>
    <button onclick="showSection('invoice')">
      <iconify-icon icon="mingcute:paper-fill" width="24" height="24"></iconify-icon>
      <span>فاکتور</span>
    </button>
    <button onclick="showSection('cheques')">
    <iconify-icon icon="fluent:money-hand-20-filled" width="24" height="24"></iconify-icon>
    <span>چک‌ها</span>
  </button>
  <button onclick="showSection('history')">
    <iconify-icon icon="mdi:history" width="24" height="24"></iconify-icon>
    <span>تاریخچه</span>
  </button>

  
  </nav>

  <!-- اون دکمهه که روش بزنیم این پایینی میاد بالا -->
    <div id="showNavBtn" class="showNavBtn" onclick="showNav()">
      <iconify-icon id="showNavBtn_Icon" style="transform: rotate(0);" icon="solar:arrow-left-bold-duotone" width="24" height="24"  style="color: #606060"></iconify-icon>
    </div>
    <!-- همون بی صاحاب ولی برای موبایل -->
    <nav id="nav" class="mobilescreenNav">
    <button onclick="showSection('cost')">
      <iconify-icon icon="streamline-ultimate:tag-dollar-bold" width="18" height="18"></iconify-icon>
      <span>برآورد هزینه</span>
    </button>
    <button onclick="showSection('customers')">
      <iconify-icon icon="solar:user-bold" width="24" height="24"></iconify-icon>
      <span>مشتری‌ها</span>
    </button>
    <button onclick="showSection('inventory')">
      <iconify-icon icon="bi:house-add-fill" width="24" height="24"></iconify-icon>
      <span>انبار</span>
    </button>
    <button onclick="showSection('todo')">
      <iconify-icon icon="fluent:check-20-filled" width="24" height="24"></iconify-icon>
      <span>تودولیست</span>
    </button>
    <button onclick="showSection('invoice')">
      <iconify-icon icon="mingcute:paper-fill" width="24" height="24"></iconify-icon>
      <span>فاکتور</span>
    </button>
    <button onclick="showSection('cheques')">
    <iconify-icon icon="fluent:money-hand-20-filled" width="24" height="24"></iconify-icon>
    <span>چک‌ها</span>
  </button>
  <button onclick="showSection('history')">
    <iconify-icon icon="mdi:history" width="24" height="24"></iconify-icon>
    <span>تاریخچه</span>
  </button>

  </nav>

  <!-- برآورد هزینه -->
  <section id="cost">
    <h2>برآورد هزینه کابل</h2>
    <span class="flexStyler">
      <input id="cost1" placeholder="هزینه سیم کابل">
      <input id="cost2" placeholder="هزینه کارگر">
      <input id="cost3" placeholder="هزینه کانکتور USB">
      <input id="cost4" placeholder="هزینه کانکتور MICRO">
      <input id="cost5" placeholder="هزینه کانکتور Type-C">
      <input id="cost6" placeholder="هزینه بسته‌بندی">
      <input id="cost7" placeholder="هزینه لحیم">
      <input id="cost8" placeholder="هزینه تزریق">
      <input id="cost9" placeholder="هزینه آب">
      <input id="cost10" placeholder="هزینه برق">
      <input id="cost11" placeholder="هزینه مواد تزریق">
      <input id="cost12" placeholder="هزینه پسماند">
      <input id="cost13" placeholder="هزینه حمل‌ونقل">
      <input id="cost14" placeholder="هزینه اجاره">
      <input id="cost15" placeholder="هزینه خرابی کابل‌ها">
      <input id="cost16" placeholder="هزینه مواد تزریق">
      <input id="cost17" placeholder="هزینه کابل 4 رشته ">
      <input id="cost17" placeholder="هزینه کابل 5 رشته ">
      <button onclick="calcCableCost()">محاسبه</button>
    </span>
    
    <p id="result"></p>
  </section>

  <!-- مشتری‌ها -->
<section id="customers" style="display:none;">
  <h2>مدیریت مشتری‌ها</h2>
    <span class="flexStyler">
      <input id="customerFullName" placeholder="نام و نام خانوادگی">
    <select id="customerType">
      <option value="خریدار">خریدار</option>
      <option value="فروشنده">فروشنده</option>
    </select>
    <input id="customerPhone" placeholder="شماره تماس">
    <input id="customerAddress" placeholder="آدرس">
    <input id="customerDebt" placeholder="بدهی (تومان)" type="number">
    <button id="addCustomerBtn">ثبت مشتری</button>
  </span>
  
  <ul id="customerList"></ul>
</section>

  <!-- انبار -->
  <section id="inventory" style="display:none;">
    <h2>انبار</h2>
    <span class="flexStyler">
      <input id="productName" placeholder="نام محصول">
      <input id="productCount" placeholder="تعداد">
      <input id="productPrice" placeholder="قیمت خرید">
      <button onclick="addProduct()">افزودن</button>
    </span>
    <ul id="productList"></ul>
  </section>

  <!-- تودولیست -->
  <section id="todo" style="display:none;">
    <h2>تودولیست</h2>
    <span class="flexStyler">
      <input id="todoTask" placeholder="کار">
      <input id="todoDate" type="date">
      <button onclick="addTodo()">افزودن</button>
    </span>
    <ul id="todoList"></ul>
  </section>

  <!-- فاکتور -->
  <section id="invoice" style="display:none;">
    <h2>فاکتور فروش</h2>
  <span class="flexStyler">
        <input id="buyerName" placeholder="نام خریدار">
      <input id="buyerPhone" placeholder="شماره تماس">
    <input id="buyerAddress" placeholder="آدرس خریدار">
  </span>
      <hr>
    <table id="invoiceTable">
      <thead>
      <tr>
        <th style="border-radius: 0 13px 13px 0;">کالا</th>
        <th style="background: #292929;">تعداد</th>
        <th>قیمت واحد</th>
        <th style="background: #292929;">قیمت کل</th>
        <th style="border-radius: 13px 0 0 13px;border:none !important">حذف</th>
      </tr>
      </thead>
      <tbody></tbody>
    </table>
    <span id="factor_addProduct">
      <button style="
        margin-top: 1rem;
        padding: 14px 33px;
        background: #219126;
        box-shadow: 0 0 12px #00ff005e;
        border-radius: 120rem !important;
        "onclick="addInvoiceRow()">افزودن ردیف</button>
    </span>
    <p id="totalAmount"></p>
    <p id="totalProfit"></p>
    <span id="factor_CTA">
          <button onclick="finalizeInvoice()">ثبت فاکتور</button>
      <button onclick="downloadInvoicePDF()">دانلود PDF</button>
    </span>

  </section>

  <section id="cheques" style="display: none;">
      <h2>مدیریت چک‌ها</h2>
    <span class="flexStyler">
      <input id="chequeNumber" placeholder="شماره چک">
      <input id="chequeAmount" placeholder="مبلغ (تومان)" type="number">

      <select id="chequeType">
        <option value="دریافتی">دریافتی</option>
        <option value="پرداختی">پرداختی</option>
      </select>

      <input id="chequePerson" placeholder="نام شخص">
      <button onclick="addCheque()">ثبت چک</button>
    </span>

  <ul id="chequeList"></ul>
</section>



<!-- تاریخچه -->
<section id="history" style="display:none;">
  <h2>تاریخچه پرداختی‌ها</h2>

  <!-- بخش دستی -->
  <div class="flexStyler">
    <input id="historyName" placeholder="نام مشتری">
    <input id="historyPhone" placeholder="شماره تماس">
    <input id="historyAmount" placeholder="مبلغ پرداختی" type="number">
    <input id="historyReason" placeholder="پرداخت بابت">
    <button style="margin-top: 1rem;" onclick="addManualHistory()">ثبت پرداخت</button>
  </div>

  <hr>

  <!-- نمایش لیست -->
  <ul id="historyList"></ul>
</section>


</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.7.0/jspdf.plugin.autotable.min.js"></script>
<script src="script.js"></script>
</body>
</html>